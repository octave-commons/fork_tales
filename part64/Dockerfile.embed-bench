FROM python:3.12-slim

ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1
ENV EMBED_BENCH_PORT=8890
ENV EMBED_BENCH_AUTOSTART=1

WORKDIR /app

COPY code /app/code

EXPOSE 8890

CMD ["python3", "-m", "code.world_web.embed_bench_server", "--host", "0.0.0.0", "--port", "8890", "--autostart"]
