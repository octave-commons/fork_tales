import{j as e}from"./index-DKUSIun3.js";function x({simulation:a,interaction:t,interactingPersonId:l,onInteract:i}){const d=a?.world;return d?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(220px,1fr))] gap-3",children:d.people.map(s=>e.jsxs("article",{className:"border border-line rounded-xl bg-white/70 p-3",children:[e.jsxs("div",{className:"flex items-baseline justify-between",children:[e.jsx("strong",{className:"text-sm",children:s.name.en}),e.jsx("span",{className:"text-xs text-muted",children:s.name.ja})]}),e.jsxs("p",{className:"text-xs text-muted mt-1",children:[s.role.en," / ",s.role.ja]}),e.jsxs("p",{className:"text-xs mt-2",children:[s.instrument," · ",s.hymn_bpm," BPM"]}),e.jsxs("p",{className:"text-xs text-muted mt-1",children:["prays to ",s.prays_to]}),e.jsx("div",{className:"mt-2 h-2 bg-bg-1 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.max(4,Math.round(s.prayer_intensity*100))}%`}})}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>i(s.id,"speak"),disabled:l===s.id,className:"text-[10px] px-2 py-1 rounded border border-line bg-white/70 hover:bg-white disabled:opacity-60",children:"Speak / 話す"}),e.jsx("button",{type:"button",onClick:()=>i(s.id,"pray"),disabled:l===s.id,className:"text-[10px] px-2 py-1 rounded border border-line bg-white/70 hover:bg-white disabled:opacity-60",children:"Pray / 祈る"}),e.jsx("button",{type:"button",onClick:()=>i(s.id,"sing"),disabled:l===s.id,className:"text-[10px] px-2 py-1 rounded border border-line bg-white/70 hover:bg-white disabled:opacity-60",children:"Sing / 歌う"})]})]},s.id))}),t?.ok&&e.jsxs("section",{className:"border border-line rounded-xl bg-sky-50/70 p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2",children:"Presence Dialogue / プレゼンス対話"}),e.jsxs("p",{className:"text-xs font-semibold",children:[t.speaker?.en," / ",t.speaker?.ja]}),e.jsxs("p",{className:"text-xs text-muted mt-1",children:[t.presence?.name.en," / ",t.presence?.name.ja]}),e.jsx("p",{className:"text-xs mt-2",children:t.line_en}),e.jsx("p",{className:"text-xs text-muted mt-1",children:t.line_ja})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("section",{className:"border border-line rounded-xl bg-white/55 p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2",children:"Songbook / 聖歌帳"}),e.jsx("div",{className:"space-y-2",children:d.songs.slice(0,4).map(s=>e.jsxs("div",{className:"text-xs border-l-2 border-blue-200 pl-2",children:[e.jsx("div",{className:"font-semibold",children:s.title.en}),e.jsx("div",{className:"text-muted",children:s.title.ja}),e.jsxs("div",{children:[s.bpm," BPM · energy ",s.energy.toFixed(2)]})]},s.id))})]}),e.jsxs("section",{className:"border border-line rounded-xl bg-white/55 p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2",children:"Library / 文庫"}),e.jsxs("div",{className:"space-y-2",children:[d.books.length===0&&e.jsx("p",{className:"text-xs text-muted",children:"Scribes are drafting the first myth."}),d.books.slice(-4).reverse().map(s=>e.jsxs("div",{className:"text-xs border-l-2 border-amber-300 pl-2",children:[e.jsx("div",{className:"font-semibold",children:s.title.en}),e.jsx("div",{className:"text-muted",children:s.title.ja}),e.jsxs("div",{className:"text-muted",children:["by ",s.author.en]}),e.jsx("div",{children:s.excerpt.en})]},s.id))]})]})]}),e.jsxs("p",{className:"text-xs text-muted",children:["prayer intensity ",d.prayer_intensity.toFixed(2)," · tick ",d.tick]})]}):e.jsx("div",{className:"text-muted text-sm p-4",children:"World pulse is gathering / 世界の脈動を収集中"})}export{x as MythWorldPanel};
