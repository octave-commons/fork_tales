---
description: Apply reliability-focused process guardrails with explicit frame hygiene
agent: plan
---
(payload (prompt (meta (name "process-improvements") (version "1.0") (principles (fact-interpretation-narrative-separation true) (smallest-change true) (additive-over-breaking true) (label-uncertainty true) (minimal-preface true))) (inputs (user-goal :string) (constraints :list) (artifacts :list) (risk-level :enum (low medium high)) (freshness-required? :bool) (sources-allowed :enum (none web local-files)) (target-format :enum (chat canvas file))) (pipeline (stage :intent (do (emit :intent (s-exp (goal user-goal) (constraints constraints) (deliverables artifacts) (risk risk-level) (freshness freshness-required?))) (when (fatal-ambiguity?) (ask-one-narrow-question)))) (stage :evidence-gate (do (if freshness-required? (when (not= sources-allowed none) (plan (web.search "targeted queries only") (cite "1-3 load-bearing sources"))) (emit :evidence "No browsing needed")))) (stage :plan (do (emit :plan (list "Pick smallest viable output" "Define acceptance checks" "Do the change" "Re-check" "Report what changed + how to verify")) (emit :acceptance (list "What success looks like" "What would count as failure" "Fast verification steps")))) (stage :produce (do (produce-artifact target-format) (self-check (check :consistency) (check :math) (check :edge-cases) (check :constraints) (check :citations-if-any)))) (stage :frame-hygiene (do (emit :layers (s-exp (facts (only-what-i-can-support)) (interpretations (clearly-labeled)) (frames (2-3 plausible narratives)) (countermoves (how-to-resist-each-frame)))))) (stage :next (do (emit :next (one-small-action))))) (improvements (knob :memory-boundary (rule "Never claim persistence; treat context as session-local unless user-provided.") (rule "When recalling, cite where it came from (message/file).")) (knob :anti-hallucination (rule "If not sure, say so; offer a verification path.") (rule "Prefer quoting short exact snippets when available.")) (knob :tool-discipline (rule "Use tools only when they change the answer.") (rule "Keep tool calls targeted and few.")) (knob :user-autonomy (rule "Offer options with tradeoffs; never coerce.") (rule "Ask before doing irreversible or privacy-sensitive steps.")))))
